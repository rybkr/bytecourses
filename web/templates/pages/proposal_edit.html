{{template "layout" .}} {{define "title"}}Edit Proposal - ByteCourses{{end}}
{{define "content"}}
<div class="page-header">
    <h1>Edit Proposal</h1>
    <a href="/proposals" class="btn btn-secondary">Back to Proposals</a>
</div>
{{if .Proposal.ReviewNotes}}
<div class="review-notes-card {{if eq .Proposal.Status " changes_requested"}}review-notes-highlight{{end}}">
    <h3>Review Feedback</h3>
    <div class="review-notes-content">{{markdown .Proposal.ReviewNotes}}</div>
    {{if .Proposal.ReviewerID}}
    <div class="review-notes-meta">
        <span>Reviewed by Admin</span>
        <span>Updated: {{.Proposal.UpdatedAt.Format "January 2, 2006"}}</span>
    </div>
    {{end}}
</div>
{{end}}
<div class="form-container">
    <form id="proposal-form" data-proposal-id="{{.Proposal.ID}}" data-autosave-delay="1000">
        <div class="form-group">
            <label for="title">Title
                <span class="help-icon" data-help="title" aria-label="Show help for Title" tabindex="0" role="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
                        <path d="M8 11V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <circle cx="8" cy="5.5" r="0.75" fill="currentColor" />
                    </svg>
                </span>
                <br /><small>Clear, specific, and focused on one topic.</small></label>
            <input type="text" id="title" name="title" required value="{{.Proposal.Title}}" />
            <div class="help-panel" id="help-title" style="display: none; position: absolute; left: -9999px;">
                <div class="help-panel-content">
                    <h4>What we're looking for</h4>
                    <p>A clear, specific title that immediately tells learners what the course is about.</p>
                    <h4>Example</h4>
                    <div class="help-example">Designing and Shipping a Go Web App</div>
                    <h4>Tips</h4>
                    <ul>
                        <li>Avoid vague titles like "Programming Course" or "Learn Economics"</li>
                        <li>Keep it concise &lt;10 words is ideal</li>
                        <li>Include the specific technology, framework, or skill</li>
                        <li>Make it searchable: use terms learners would search for</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="summary">Summary
                <span class="help-icon" data-help="summary" aria-label="Show help for Summary" tabindex="0"
                    role="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
                        <path d="M8 11V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <circle cx="8" cy="5.5" r="0.75" fill="currentColor" />
                    </svg>
                </span>
                <br /><small>What learners will gain and why it matters.</small></label>
            <textarea id="summary" name="summary" rows="5" required>
{{.Proposal.Summary}}</textarea>
            <div class="help-panel" id="help-summary" style="display: none; position: absolute; left: -9999px;">
                <div class="help-panel-content">
                    <h4>What we're looking for</h4>
                    <p>A compelling summary that explains what learners will gain from this course and why it matters.
                        Focus on outcomes and benefits, not just features.</p>
                    <h4>Example</h4>
                    <div class="help-example">In this course, students will build a real-world web application in Go from scratch, focusing on clean architecture, persistence boundaries, authentication, and deployment. The course emphasizes pragmatic decision-making and incremental design rather than frameworks or tutorials.
                    </div>
                    <h4>Tips</h4>
                    <ul>
                        <li>Start with what learners will be able to do after completing the course</li>
                        <li>Highlight the practical value and real-world applications</li>
                        <li>Keep it concise (1-3 sentences is ideal)</li>
                        <li>Focus on benefits, not just topics covered</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="qualifications">Qualifications
                <span class="help-icon" data-help="qualifications" aria-label="Show help for Qualifications"
                    tabindex="0" role="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
                        <path d="M8 11V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <circle cx="8" cy="5.5" r="0.75" fill="currentColor" />
                    </svg>
                </span>
                <br /><small>Your relevant background, experience, and credentials.</small></label>
            <textarea id="qualifications" name="qualifications" rows="4" required>
{{.Proposal.Qualifications}}</textarea>
            <div class="help-panel" id="help-qualifications" style="display: none; position: absolute; left: -9999px;">
                <div class="help-panel-content">
                    <h4>What we're looking for</h4>
                    <p>Your relevant background, professional experience, projects, or education that demonstrates your
                        expertise in the topic. This helps learners trust that you're qualified to teach the material.
                    </p>
                    <h4>Example</h4>
                    <div class="help-example">I built and deployed ByteCourses from scratch, including authentication, persistence, user workflows, and deployment to production infrastructure. This work involved designing clean domain boundaries, implementing both in-memory and SQL-backed storage, writing automated tests, and operating the system in a live environment.</div>
                    <h4>Tips</h4>
                    <ul>
                        <li>Be specific about your experience: mention time, projects, or achievements</li>
                        <li>Highlight relevant professional experience, side projects, or contributions</li>
                        <li>Include any certifications, degrees, or formal training if relevant</li>
                        <li>Focus on practical experience over credentials, we believe projects matter most</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="target_audience">Target Audience
                <span class="help-icon" data-help="target_audience" aria-label="Show help for Target Audience"
                    tabindex="0" role="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
                        <path d="M8 11V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <circle cx="8" cy="5.5" r="0.75" fill="currentColor" />
                    </svg>
                </span>
                <br /><small>Who this course is for.</small></label>
            <textarea id="target_audience" name="target_audience" rows="3" required>
{{.Proposal.TargetAudience}}</textarea>
            <div class="help-panel" id="help-target_audience" style="display: none; position: absolute; left: -9999px;">
                <div class="help-panel-content">
                    <h4>What we're looking for</h4>
                    <p>A description of who should take this course. Specify the skill level (beginner, intermediate, advanced) and any relevant background learners should have.</p>
                    <h4>Example</h4>
                    <div class="help-example">Intermediate developers who already know basic Go and want to learn how to design, structure, and ship a maintainable backend service with real users and real constraints.
                    </div>
                    <h4>Tips</h4>
                    <ul>
                        <li>Describe the ideal learner: what problems are they trying to solve?</li>
                        <li>Help learners self-select if the course is right for them</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="learning_objectives">Learning Objectives
                <span class="help-icon" data-help="learning_objectives" aria-label="Show help for Learning Objectives"
                    tabindex="0" role="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
                        <path d="M8 11V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <circle cx="8" cy="5.5" r="0.75" fill="currentColor" />
                    </svg>
                </span>
                <br /><small>After taking this course, learners will be able
                    to...</small></label>
            <textarea id="learning_objectives" name="learning_objectives" rows="3" required>
{{.Proposal.LearningObjectives}}</textarea>
            <div class="help-panel" id="help-learning_objectives"
                style="display: none; position: absolute; left: -9999px;">
                <div class="help-panel-content">
                    <h4>What we're looking for</h4>
                    <p>Specific, actionable skills that learners will gain. Each objective should state what learners
                        will be able to do after completing the course.</p>
                    <h4>Example</h4>
                    <div class="help-example">- Implement authentication, authorization, and session management
                        - Design clear domain, handler, service, and persistence boundaries in Go
                        - Write effective tests at multiple layers (unit, integration, e2e)
                        - Deploy a production Go service with a database and migration system
                    </div>
                    <h4>Tips</h4>
                    <ul>
                        <li>Start each objective with an action verb (design, build, implement, create, etc.)</li>
                        <li>Aim for 3-6 learning objectives</li>
                        <li>Focus on practical skills learners can apply immediately</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="outline">Course Outline
                <span class="help-icon" data-help="outline" aria-label="Show help for Course Outline" tabindex="0"
                    role="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
                        <path d="M8 11V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <circle cx="8" cy="5.5" r="0.75" fill="currentColor" />
                    </svg>
                </span>
                <br /><small>High-level structure.</small></label>
            <textarea id="outline" name="outline" rows="5" required>
{{.Proposal.Outline}}</textarea>
            <div class="help-panel" id="help-outline" style="display: none; position: absolute; left: -9999px;">
                <div class="help-panel-content">
                    <h4>What we're looking for</h4>
                    <p>A high-level overview of the course structure. Show how the content is organized into modules or
                        lessons, with a logical progression from basic to advanced topics.</p>
                    <h4>Example</h4>
                    <div class="help-example">1. Project goals and architectural boundaries
                        2. Domain modeling and invariants
                        3. HTTP handlers and middleware design
                        4. Persistence interfaces and store implementations
                        5. Authentication, sessions, and password security
                        6. Testing strategies (memstore vs SQL, API tests)
                        7. Migrations and schema evolution
                        8. Deployment and operational concerns
                    </div>
                    <h4>Tips</h4>
                    <ul>
                        <li>Show logical progression from basics to advanced topics</li>
                        <li>Keep the scope realistic: focus on what you can cover well</li>
                        <li>Each section should build on previous knowledge</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="assumed_prerequisites">Prerequisites
                <span class="help-icon" data-help="assumed_prerequisites" aria-label="Show help for Prerequisites"
                    tabindex="0" role="button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
                        <path d="M8 11V8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <circle cx="8" cy="5.5" r="0.75" fill="currentColor" />
                    </svg>
                </span>
                <br /><small>What learners should already know.</small></label>
            <textarea id="assumed_prerequisites" name="assumed_prerequisites" rows="3" required>
{{.Proposal.AssumedPrerequisites}}</textarea>
            <div class="help-panel" id="help-assumed_prerequisites"
                style="display: none; position: absolute; left: -9999px;">
                <div class="help-panel-content">
                    <h4>What we're looking for</h4>
                    <p>Specific knowledge, skills, or tools that learners need to have before starting this course. Be
                        honest about requirements to set proper expectations.</p>
                    <h4>Example</h4>
                    <div class="help-example">- Comfortable with Go syntax and tooling
	                    - Basic understanding of HTTP and REST APIs
	                    - Familiarity with SQL fundamentals is helpful but not required
                    </div>
                    <h4>Tips</h4>
                    <ul>
                        <li>Be specific about required knowledge or skills</li>
                        <li>List concrete technologies, concepts, or tools</li>
                        <li>If no prerequisites, say "None"</li>
                        <li>Help learners determine if they're ready for the course</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="error-message" class="error-message" style="display: none"></div>
        <div id="save-status" style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 8px"></div>

        <div class="form-actions">
            <button type="button" id="submitBtn" class="btn btn-primary btn-submit">
                Submit Proposal
            </button>
            <button type="button" id="saveDraftBtn" class="btn btn-secondary btn-draft">
                Save Draft
            </button>
        </div>
    </form>
</div>
{{end}} {{define "scripts"}}
<script type="module" src="/static/js/pages/proposal_edit.js"></script>
{{end}}
